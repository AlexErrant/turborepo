---
title: Add to an existing repository
description: Using Turborepo with your existing repository
---

import { Tabs, Tab } from '#/components/Tabs'
import {Callout} from '#/components/Callout'
import {Step, Steps} from 'fumadocs-ui/components/steps'

Turborepo can be used in **any project, single or multi-package**, to speed up the execution of scripts in `package.json`.

After installing `turbo` and configuring your tasks in `turbo.json`, you'll notice how [caching](/TODO-LINK) helps your tasks run a lot faster.

## Prepping a multi-package workspace (monorepo)

`turbo` is built on top of Workspaces, a feature of the major package managers in the JavaScript ecosystem. This allows you to quickly, incrementally adopt Turborepo into your existing codebase.

Because of this, `turbo` expects to find a valid workspace structure in your repository. If you're finding that `turbo` is having issues like not being able to discover packages in your workspace, visit our [Structuring a repo](/docs/repo/crafting-your-repository/structuring-your-repo) page for tips.

<Callout type="info" title="Incremental adoption">
Note that you do not have to start running all your tasks for all your packages right away. You can start with a single task in just a few packages and incrementally add more tasks and packages as you get more familiar with Turborepo.
</Callout>

## Prepping a single-package workspace

A single-package workspace is what you get after running `npx create-next-app` or `npm create vite`. You don't need to do any extra work for Turborepo to handle your repo so you can jump to the first step!

<Steps>
<Step>
## Install `turbo`

We recommend you install `turbo` both globally and into your repository's root for the best developer experience.

<Tabs items={['npm', 'yarn', 'pnpm']} storageKey="selected-pkg-manager">
  <Tab value="npm">
    ```bash title="Terminal"
    npm install turbo --global
    npm install turbo --save-dev
    ```
  </Tab>
  <Tab value="yarn">
    ```bash title="Terminal"
    yarn global add turbo
    yarn add turbo --dev
    ```
  </Tab>
  <Tab value="pnpm">
    ```bash title="Terminal"
    pnpm add turbo --global
    pnpm add turbo --save-dev
    ```
  </Tab>
</Tabs>

To learn more about why we recommend both installations, visit the [Installation page](/docs/repo/getting-started/installation).

</Step>
<Step>

## Add a `turbo.json` file

In the root of your repository, create a `turbo.json` file.

We'll be using `build` and `check-types` tasks in this guide but you can replace these with other tasks that interest you, like `lint` or `test`.

<Tabs items={['Next.js', 'Vite']} storageKey="framework-preference">
  <Tab value="Next.js">
```json title="turbo.json"
{
  "$schema": "https://turbo.build/schema.json",
  "pipeline": {
    "build": {
      "dependsOn": ["^build"],
      "outputs": [".next/**", "!.next/cache/**"]
    },
    "check-types": {
      "dependsOn": ["^check-types"]
    },
    "dev": {
      "persistent": true,
      "cache": false
    }
  }
}
```

In your Next.js application, make sure you have a `check-types` script for `turbo` to run.

```diff title="apps/web/package.json"
{
  "scripts": {
+   "check-types": "tsc --noEmit"
  }
}
```

  </Tab>
  <Tab value="Vite">
```json title="turbo.json"
{
  "$schema": "https://turbo.build/schema.json",
  "pipeline": {
    "build": {
      "outputs": ["dist/**"]
    },
    "check-types": {
      "dependsOn": ["^check-types"]
    },
    "dev": {
      "persistent": true,
      "cache": false
    }
  }
}
```

Some Vite starters ship with a `package.json` that looks like this:

```json title="package.json"
{
  "scripts": {
    "build": "tsc && vite build"
  }
}
```

We recommend splitting these into a `check-types` and `build` script so that `turbo` can run them in parallel.

```json title="apps/web/package.json"
{
  "scripts": {
    "build": "vite build",
    "check-types": "tsc --noEmit"
  }
}
```

  </Tab>
</Tabs>

<Callout type="info">
For multi-package workspaces, you may also want to add a `check-types` script to one or more of your library packages to see how multiple scripts across different packages run with one `turbo` command.
</Callout>

For more information on configuring your `turbo.json`, see the [Configuration Options](/repo/docs/reference/configuration) documentation.

</Step>
<Step>
## Edit `.gitignore`

Add `.turbo` to your `.gitignore` file. The CLI uses these folders for logs and certain task outputs.

```diff title=".gitignore"
+ .turbo
```

</Step>
<Step>
## Run the `build` and `lint` tasks with `turbo`

```bash title="Terminal"
turbo check-types build
```

This runs `build` and `check-types` at the same time.

</Step>
<Step>
5. **Without making any changes to the code, try running `build` and `lint` again:**

```bash title="Terminal"
turbo check-types build
```

You should see terminal output like this:

```bash title="Terminal"
 Tasks:    2 successful, 2 total
Cached:    2 cached, 2 total
  Time:    185ms >>> FULL TURBO
```

Congratulations! **You just built and type checked your code in milliseconds**.

To learn more about how `turbo` makes this possible, check out [the caching documentation](/TODO-LINK).

</Step>
<Step>

## Begin developing by running `dev` with `turbo`

In a multi-package workspace, you can run `turbo dev` to start the development tasks for all your packages at once.

```bash title="Terminal"
turbo dev
```

Note that this step doesn't provide much value in a single-package workspace since:

- You don't cache the outputs for a development task.
- There's only one development script so there's nothing to run in parallel.

</Step>

<Step>

## Next steps

You now up and running with Turborepo! To learn about more ways you can improve your workflow and get the most out of `turbo`, we recommend checking out the following pages:

- [Handling environment variables](/TODO-LINK)
- [Enabling Remote Caching for development machines](/docs/repo/crafting-your-repository/caching#remote-caching)
- [Filtering tasks](/docs/repo/cli/filtering-tasks)
- [Enabling Remote Caching in CI](/docs/repo/crafting-your-repository/constructing-ci)

</Step>
</Steps>
